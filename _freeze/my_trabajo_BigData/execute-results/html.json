{
  "hash": "b0421e27ae96d0581b441295a3f1e7a3",
  "result": {
    "markdown": "---\ntitle: \"ANÁLISIS DE LOS 10 ÁLBUMES DE TAYLOR SWIFT\"\ndescription: |\n  Un repaso por las distintas eras de la artista\nauthor:\n  - name: Ana Royo Sánchez\n    affiliation: Universitat de València\n    affiliation-url: https://www.uv.es\ndate: 2024-01-24\ncategories: [trabajo BigData, musica, Taylor Swift]\nimage: \"./imagenes/imagen_01.png\"\ntitle-block-banner: true\ntitle-block-banner-color: \"#FFE7FC\"\ntoc: true\ntoc-location: left\ntoc-depth: 3\nsmooth-scroll: true\nformat: \n  html:\n    backgroundcolor: \"#FFE7FC\"\n    embed-resources: true\n    link-external-newwindow: true\n    #css: ./assets/my_css_file.css\ncode-tools: true\ncode-link: true\n---\n\n\n## Introducción\n\nEn el panorama musical contemporáneo, pocas figuras han ejercido un impacto tan profundo y sostenido como **Taylor Swift**. Desde su debut en la escena musical hasta la actualidad, ha evolucionado de manera notable no solo como artista, sino también como narradora magistral de historias a través de su música. Taylor lleva casi **dos décadas de carrera musical**, la cual ha dividido en **10 eras distintas** (cada una correspondiente a un álbum específico) que recogen diferentes sonidos, sentimientos y momentos vitales.\n\n![Ilustración de las 10 eras de Taylor Swift](./imagenes/eras.jpg)\n\n---\n\n## Datos\n\n### Obtenemos los datos\n\n\n::: {.panel-tabset}\n\n## Datos\n\nLos datos que vamos a utilizar para el trabajo han sido extraídos de [Kaggle](https://www.kaggle.com/), una plataforma web que reúne la comunidad Data Science más grande del mundo. El conjunto de datos consta de datos de la API de Spotify para todos sus álbumes.\n\n## Paquetes\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyr)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(plotly)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(gridExtra)\nlibrary(rio)\nlibrary(scales)\nlibrary(stringr)\nlibrary(tidytext)\nlibrary(lubridate)\nlibrary(gganimate)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(RColorBrewer)\n```\n:::\n\n:::\n\nLos datos se pueden cargar en la memoria de R/RStudio de esta forma:\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\narchivo_destino <- here::here(\"datos\", \"taylor_swift_spotify.xlsx\")\nspotify <- rio::import(archivo_destino)\n\nlyrics <- rio::import(here::here(\"datos\", \"taylor_swift_lyrics.xlsx\"))\n\nconcerts <- rio::import(here::here(\"datos\", \"taylor_swift_concerts.xlsx\"))\n```\n:::\n\nHemos importado tres conjuntos de datos para analizar. El primer dataset contiene observaciones sobre un conjunto de 530 canciones. Disponemos de 18 variables a analizar sobre dichas canciones. En el segundo, lo que encontramos son las letras de las canciones. El último dataset contiene información sobre las giras de conciertos.\n\nPor tanto, en primer lugar realizaremos un análisis sobre las propias canciones y los álbumes a los que pertenecen, para posteriormente centrarnos en los *lyrics* y lo que pretende transmitir Taylor. Terminaremos con un pequeño análisis sobre la recaudación de cada *tour*.\n\n---\n\n\n### Arreglamos y transformamos los datos\n\nPara poder analizar los datos y hacer gráficos chulos, antes es necesario arreglar dichos datos.\n\nEn primer lugar, elegimos las columnas con las que queremos trabajar, en este caso queremos: nombre de la canción, álbum, fecha, duración, popularidad y todas las características de las canciones como bailabilidad, vivacidad, volumen, etc.\n\nDespués, para que resulte más fácil saber de qué álbum estamos hablando, puesto que sabemos que Taylor ha regrabado algunos de sus álbumes (Taylor's Version) y ha lanzado algunas ediciones diferentes, como versiones deluxe y también álbumes de conciertos, vamos a crear una nueva columna con el nombre del álbum independientemente de la versión.\n\nPor último, ya que cada era tiene una estética diferente, vamos a asignar a cada uno de los álbumes su color característico para que se vea posteriormente en los gráficos.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nspotify <- spotify %>%\n  select('name', 'album', 'release_date', 'track_number', 'acousticness', 'danceability', 'energy', 'instrumentalness', 'liveness', 'loudness', 'speechiness', 'tempo', 'valence', 'popularity', 'duration_ms')\n\nspotify <- spotify %>%\n  mutate(album_new = case_when(str_detect(album, \"Speak Now\") ~ \"Speak Now\",\n                               str_detect(album, \"Midnights\") ~ \"Midnights\",\n                               str_detect(album, \"Red\") ~ \"Red\",\n                               str_detect(album, \"Fearless\") ~ \"Fearless\",\n                               str_detect(album, \"evermore\") ~ \"evermore\",\n                               str_detect(album, \"folklore\") ~ \"folklore\",\n                               str_detect(album, \"Lover\") ~ \"Lover\",\n                               str_detect(album, \"reputation\") ~ \"reputation\",\n                               str_detect(album, \"1989\") ~ \"1989\",\n                               str_detect(album, \"Taylor Swift\") ~ \"Taylor Swift\",\n                               TRUE ~ 'Others'))\n\nspotify <- spotify[!grepl(\"Live|Stadium|session\", c(spotify$album)),]\n\n#- creamos la paleta de colores de sus álbumes\ncolors <- c(\"Taylor Swift\" = \"seagreen3\",\n            \"Fearless\" = \"goldenrod1\",\n            \"Speak Now\" = \"orchid3\",\n            \"Red\" = \"red3\",\n            \"1989\"= \"skyblue3\",\n            \"reputation\" = \"gray15\",\n            \"Lover\" = \"hotpink\",\n            \"folklore\" = \"lavenderblush4\",\n            \"evermore\"= \"burlywood\",\n            \"Midnights\" = \"midnightblue\",\n            \"Others\" = \"salmon1\" )\n```\n:::\n\n\n---\n\n## Análisis de canciones\n\n### Canciones más populares de su discografía\n\n\nComenzamos nuestro análisis viendo cuáles son las canciones más populares de toda la discografía de Taylor Swift. En la siguiente tabla se presenta un resumen del **TOP 10 canciones**. Cada entrada incluye el nombre de la canción, el álbum al que pertenece y su nivel de popularidad en la plataforma de Spotify.\n\nEsta clasificación proporciona una instantánea de sus canciones más aclamadas, destacando éxitos notables que han resonado significativamente con el público. La columna \"Popularidad\" refleja la calificación relativa de cada canción en función de su recepción y reproducciones en Spotify.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\npopular_songs <- spotify %>%\n  arrange(desc(popularity)) %>% \n  slice(1:10) %>% \n  select(name, album_new, popularity)\ncolnames(popular_songs) <- c(\"Nombre de la canción\", \"Álbum\", \"Popularidad\")\n\npopular_songs_table <- knitr::kable(popular_songs, format = \"html\", row.names = FALSE) %>%\n  kableExtra::kable_styling(bootstrap_options = c(\"striped\", \"hover\"), full_width = FALSE) %>%\n  add_header_above(c(\"TOP 10 CANCIONES MÁS POPULARES DE TAYLOR SWIFT\" = 3), font_size = 20) %>%\n  kableExtra::column_spec(c(1, 2, 3), width = \"60%\")\n\npopular_songs_table\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n<tr><th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; font-size: 20px;\" colspan=\"3\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">TOP 10 CANCIONES MÁS POPULARES DE TAYLOR SWIFT</div></th></tr>\n  <tr>\n   <th style=\"text-align:left;\"> Nombre de la canción </th>\n   <th style=\"text-align:left;\"> Álbum </th>\n   <th style=\"text-align:right;\"> Popularidad </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Cruel Summer </td>\n   <td style=\"text-align:left;width: 60%; \"> Lover </td>\n   <td style=\"text-align:right;width: 60%; \"> 99 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Is It Over Now? (Taylor's Version) (From The Vault) </td>\n   <td style=\"text-align:left;width: 60%; \"> 1989 </td>\n   <td style=\"text-align:right;width: 60%; \"> 94 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Anti-Hero </td>\n   <td style=\"text-align:left;width: 60%; \"> Midnights </td>\n   <td style=\"text-align:right;width: 60%; \"> 92 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Lover </td>\n   <td style=\"text-align:left;width: 60%; \"> Lover </td>\n   <td style=\"text-align:right;width: 60%; \"> 92 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Now That We Don't Talk (Taylor's Version) (From The Vault) </td>\n   <td style=\"text-align:left;width: 60%; \"> 1989 </td>\n   <td style=\"text-align:right;width: 60%; \"> 91 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> august </td>\n   <td style=\"text-align:left;width: 60%; \"> folklore </td>\n   <td style=\"text-align:right;width: 60%; \"> 91 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Don’t Blame Me </td>\n   <td style=\"text-align:left;width: 60%; \"> reputation </td>\n   <td style=\"text-align:right;width: 60%; \"> 91 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> \"Slut!\" (Taylor's Version) (From The Vault) </td>\n   <td style=\"text-align:left;width: 60%; \"> 1989 </td>\n   <td style=\"text-align:right;width: 60%; \"> 90 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> cardigan </td>\n   <td style=\"text-align:left;width: 60%; \"> folklore </td>\n   <td style=\"text-align:right;width: 60%; \"> 90 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 60%; \"> Style (Taylor's Version) </td>\n   <td style=\"text-align:left;width: 60%; \"> 1989 </td>\n   <td style=\"text-align:right;width: 60%; \"> 89 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nAquí tenéis la canción que ocupa la primera posición, por si quereis escucharla mientras seguís leyendo el trabajo ;)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(\"vembedr\")\nembed_url(\"https://www.youtube.com/watch?v=ic8j13piAhQ\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"vembedr\">\n<div>\n<iframe src=\"https://www.youtube.com/embed/ic8j13piAhQ\" width=\"533\" height=\"300\" frameborder=\"0\" allowfullscreen=\"\" data-external=\"1\"></iframe>\n</div>\n</div>\n```\n:::\n:::\n\n\n---\n\n### Popularidad de las canciones por álbum\n\n\nEn el siguiente **gráfico de cajas (boxplot)**, exploramos la distribución de la popularidad de las canciones de Taylor Swift a lo largo del tiempo, organizadas por álbum. Cada caja representa la variabilidad intercuartílica (IQR) de la popularidad de las canciones dentro de un álbum específico, mientras que la línea central en cada caja representa la mediana.\n\nObservamos cómo la popularidad de las canciones ha evolucionado a lo largo de los distintos lanzamientos, reflejando la diversidad en el recibimiento de cada álbum. La paleta de colores única asignada a cada álbum facilita la identificación visual de las tendencias y diferencias en la distribución. Al analizar este gráfico, podemos diferenciar patrones y momentos destacados en la carrera musical de Taylor Swift.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nspotify$album_new <- factor (spotify$album_new, levels = unique(spotify$album_new[order(spotify$release_date)]))  #- ordenamos por fecha de lanzamiento\n\nggplot(spotify, aes(x = release_date, y = popularity)) + \n  geom_boxplot(aes(color = album_new), outlier.shape = NA) +\n  geom_point(aes(color = album_new), position = position_jitter(width = 0.2), alpha = 0.5) +\n  scale_color_manual(values = colors) +\n  theme_minimal() + \n  theme(axis.text.x = element_text(vjust = 0.5, hjust = 1),\n        axis.title = element_text(size = 10),\n        plot.title = element_text(hjust = 0.5, size = 12, face = \"bold\"),\n        plot.caption = element_text(size = 8),\n        legend.position = \"bottom\",\n        legend.box.background = element_rect(color = \"black\", size = 0.5),\n        panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\"),\n        plot.margin = margin(10, 10, 10, 10)) +\n  labs(title = \"Distribución de Popularidad de las Canciones por Álbum\",\n       x = \"Fecha de lanzamiento\",\n       y = \"Popularidad\",\n       color = \"Álbum\",\n       caption = \"Fuente: Datos de Spotify\") +\n  geom_hline(yintercept = median(spotify$popularity), linetype = \"dashed\", color = \"black\", size = 0.5) +\n  geom_text(data = subset(spotify, !duplicated(album_new, fromLast = TRUE)),\n            aes(x = release_date, y = popularity, label = album_new),\n            color = \"black\", vjust = -0.5, hjust = -0.2, size = 2.5)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\nPodemos observar que la popularidad de Taylor ha aumentado considerablemente desde *1989* hasta *Lover*. Tras este álbum, vemos una pequeña caída que puede explicarse por su cambio de estilo en los dos siguientes álbumes: *folklore* y *evermore*. Sin embargo, después de eso mantiene un nivel de popularidad bastante estable.\n\n---\n\n### Evolución temporal de la popularidad\n\n\nPara que sea más visual y más fácil distinguir cuál ha sido realmente la evolución de la popularidad de las canciones de Taylor, creamos el siguiente **gráfico animado**. Cada línea representa la trayectoria de popularidad de las canciones de cada álbum a medida que transcurren los años.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nspotify_filtered <- spotify %>%\n  filter(album_new != \"Taylor Swift\",\n         album_new != \"Midnights\")\n\np <- ggplot(spotify_filtered, aes(x = release_date, y = popularity, color = album_new)) +\n  geom_line(size = 1) +\n  labs(title = \"Evolución Temporal de la Popularidad por Álbum\",\n       x = \"Año\",\n       y = \"Popularidad\",\n       color = \"Álbum\") +\n  theme_minimal() + \n  theme(legend.position = \"bottom\",\n        axis.text.x = element_text(hjust = 1, size = 8),\n        plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5),\n        axis.title.x = element_text(size = 10, hjust = 1, vjust = 0),\n        axis.title.y = element_text(size = 10, hjust = 0.5, vjust = 1),\n        legend.title = element_text(face = \"bold\"),\n        panel.grid.major = element_line(colour = \"gray87\", linetype = \"dashed\"),\n        panel.background = element_rect(fill = \"honeydew\"),\n        panel.grid.minor = element_blank(),\n        axis.text = element_text(size = 9, colour = \"gray17\")) + \n  scale_color_manual(values = colors) +\n  geom_text(aes(label = album_new), nudge_x = 0.5, nudge_y = 0.5, hjust = 0)\n\n#- animamos el gráfico\np_animated <- p + transition_reveal(release_date) +\n  enter_fade() + \n  exit_fade()\n\nanimate(p_animated, nframes = 200, fps = 20)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-7-1.gif){fig-align='center' width=95%}\n:::\n:::\n\n\n---\n\n### Duración de las canciones por álbum\n\n\nEl siguiente **gráfico de barras** muestra la duración promedio de las canciones de Taylor Swift en función de los distintos álbumes, los cuales aparecen ordenados de mayor a menor duración. Basándonos en un análisis de **426 canciones**, las agrupamos por álbum y obtenemos el promedio de duración en minutos para cada uno de ellos.\n\nComo veremos a continuación, el álbum *Speak Now* destaca con la duración promedio más larga, de 4.71 minutos por canción. En contraste, el álbum *Lover* se destaca por su estilo más conciso y directo ya que sus canciones presentan una duración promedio más corta, concretamente de 3,44 minutos por canción.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naverage_duration_by_album <- spotify %>%\n  group_by(album_new) %>%\n  summarise(average_duration = mean(duration_ms))\n\naverage_duration_by_album$average_duration_minutes <- average_duration_by_album$average_duration / 60000  #- pasamos la duración media a minutos\n\nggplot(average_duration_by_album, aes(x = reorder(album_new, -average_duration), y = average_duration_minutes, fill = album_new)) +\n  geom_bar(stat = \"identity\", color = \"black\", size = 0.5, position = \"stack\") +\n  geom_text(aes(label = sprintf(\"%.2f\", average_duration_minutes)),\n            position = position_stack(vjust = 0.5), size = 3, color = \"black\") +\n  scale_fill_manual(values = colors) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1),\n        legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(color = \"black\")) +\n  labs(title = \"Duración Media de las Canciones por Álbum\",\n       subtitle = \"Basado en 426 canciones de Taylor Swift\",\n       x = \"Álbum\",\n       y = \"Duración promedio (minutos)\",\n       caption = \"Fuente: Datos de Spotify\") +\n  theme(plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5),\n        plot.subtitle = element_text(size = 10, hjust = 0.5),\n        plot.caption = element_text(size = 8, hjust = 0.5),\n        axis.title.y = element_text(size = 10, vjust = 1),\n        axis.title.x = element_text(size = 10),\n        axis.text.x = element_text(size = 8),\n        axis.text.y = element_text(size = 8, vjust = -0.5, color = \"black\"),\n        axis.line.x = element_line(color = \"black\", linewidth = 0.5),\n        plot.margin = margin(10, 10, 10, 10))\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n---\n\n### Características musicales de los álbumes\n\n\nEn este conjunto de visualizaciones exploramos diversas características musicales de las canciones de Taylor Swift a lo largo de sus álbumes. Cada gráfico proporciona una perspectiva única sobre cómo estas características han evolucionado a lo largo de su carrera. Las características analizadas incluyen:\n\n- **Danceability**: Muestra la variabilidad en la capacidad de las canciones para inspirar movimiento y baile. Valores más altos indican canciones más propicias para el baile.\n\n- **Energy**: Representa la intensidad y actividad percibida en las canciones. Un mayor valor sugiere canciones más enérgicas.\n\n- **Acousticness**: Explora la presencia de elementos acústicos en las canciones. Valores altos indican un sonido más cercano a lo acústico.\n\n- **Loudness**: Refleja el volumen general de las canciones. Valores más altos indican canciones más fuertes.\n\n\n::: {.panel-tabset}\n\n## Danceability\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_danceability <- ggplot(spotify, aes(x = album_new, y = danceability, fill = album_new)) +\n  geom_violin(trim = FALSE, alpha = 0.8) +  #- ajustamos la transparencia para mejor visualización\n  geom_boxplot(width = 0.2, fill = \"white\", color = \"black\", outlier.shape = NA) +  #- eliminamos outliers en el boxplot\n  scale_fill_manual(values = colors) +\n  theme_minimal() +\n  labs(title = \"Variación de Danceability entre Álbumes\",\n       subtitle = \"Comparación de la bailabilidad a lo largo de las eras\",\n       x = \"Álbum\",\n       y = \"Danceability\",\n       fill = \"Álbum\",\n       caption = \"Fuente: Datos de Spotify\") +\n  theme(plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5),\n        plot.subtitle = element_text(size = 10, hjust = 0.5, color = \"gray\"),\n        plot.caption = element_text(size = 8),\n        legend.position = \"none\",\n        axis.title.y = element_text(size = 10, vjust = 1),\n        axis.title.x = element_text(size = 10),\n        axis.text.x = element_text(angle = 45, size = 8, hjust = 1, vjust = 1),\n        axis.text.y = element_text(size = 8, vjust = -0.5, color = \"black\"),\n        panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\"),\n        plot.margin = margin(10, 10, 10, 10))\n\nprint(plot_danceability)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-9-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n## Energy\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_energy <- ggplot(spotify, aes(x = album_new, y = energy, fill = album_new)) +\n  geom_violin(trim = FALSE, alpha = 0.8) +\n  geom_boxplot(width = 0.2, fill = \"white\", color = \"black\", outlier.shape = NA) +\n  scale_fill_manual(values = colors) +\n  theme_minimal() +\n  labs(title = \"Variación de Energy entre Álbumes\",\n       subtitle = \"Comparación de la energía a lo largo de las eras\",\n       x = \"Álbum\",\n       y = \"Energy\",\n       fill = \"Álbum\",\n       caption = \"Fuente: Datos de Spotify\") +\n  theme(plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5),\n        plot.subtitle = element_text(size = 10, hjust = 0.5, color = \"gray\"),\n        plot.caption = element_text(size = 8),\n        legend.position = \"none\",\n        axis.title.y = element_text(size = 10, vjust = 1),\n        axis.title.x = element_text(size = 10),\n        axis.text.x = element_text(angle = 45, size = 8),\n        axis.text.y = element_text(size = 8, vjust = -0.5, color = \"black\"),\n        panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\"),\n        plot.margin = margin(10, 10, 10, 10))\n\nprint(plot_energy)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n## Acousticness\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_acousticness <- ggplot(spotify, aes(x = album_new, y = acousticness, fill = album_new)) +\n  geom_violin(trim = FALSE, alpha = 0.8) +\n  geom_boxplot(width = 0.2, fill = \"white\", color = \"black\", outlier.shape = NA) +\n  scale_fill_manual(values = colors) +\n  theme_minimal() +\n  labs(title = \"Variación de Acousticness entre Álbumes\",\n       subtitle = \"Comparación de la acústica a lo largo de las eras\",\n       x = \"Álbum\",\n       y = \"Acousticness\",\n       fill = \"Álbum\",\n       caption = \"Fuente: Datos de Spotify\") +\n  theme(plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5),\n        plot.subtitle = element_text(size = 10, hjust = 0.5, color = \"gray\"),\n        plot.caption = element_text(size = 8),\n        legend.position = \"none\",\n        axis.title.y = element_text(size = 10, vjust = 1),\n        axis.title.x = element_text(size = 10),\n        axis.text.x = element_text(angle = 45, size = 8),\n        axis.text.y = element_text(size = 8, vjust = -0.5, color = \"black\"),\n        panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\"),\n        plot.margin = margin(10, 10, 10, 10))\n\nprint(plot_acousticness)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n## Loudness\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_loudness <- ggplot(spotify, aes(x = album_new, y = loudness, fill = album_new)) +\n  geom_violin(trim = FALSE, alpha = 0.8) +\n  geom_boxplot(width = 0.2, fill = \"white\", color = \"black\", outlier.shape = NA) +\n  scale_fill_manual(values = colors) +\n  theme_minimal() +\n  labs(title = \"Variación de Loudness entre Álbumes\",\n       subtitle = \"Comparación del volumen a lo largo de las eras\",\n       x = \"Álbum\",\n       y = \"Loudness\",\n       fill = \"Álbum\",\n       caption = \"Fuente: Datos de Spotify\") +\n  theme(plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5),\n        plot.subtitle = element_text(size = 10, hjust = 0.5, color = \"gray\"),\n        plot.caption = element_text(size = 8),\n        legend.position = \"none\",\n        axis.title.y = element_text(size = 10, vjust = 1),\n        axis.title.x = element_text(size = 10),\n        axis.text.x = element_text(angle = 45, size = 8),\n        axis.text.y = element_text(size = 8, vjust = -0.5, color = \"black\"),\n        panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\"),\n        plot.margin = margin(10, 10, 10, 10))\n\nprint(plot_loudness)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-12-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n:::\n\nCada gráfico utiliza **violines y diagramas de caja** para proporcionar una visión completa de la distribución de estas características a lo largo de los álbumes. Se observa cómo estas tendencias pueden relacionarse con la evolución estilística y artística de Taylor Swift a lo largo del tiempo.\n\n---\n\n## Análisis de letras\n\n### ¿Cuáles son las palabras más repetidas?\n\nEn esta sección del análisis, exploramos las letras de las canciones de Taylor Swift con el objetivo de identificar las palabras más frecuentes a lo largo de sus 10 álbumes. Realizamos un procesamiento de texto para eliminar palabras comunes y aquellas que carecen de significado propio y hacemos un recuento de las palabras restantes.\n\nEl gráfico a continuación visualiza las **palabras más destacadas**, representando el número de veces que aparecen en las letras de las canciones. Cada barra representa una palabra, y la altura de la barra indica la frecuencia de esa palabra en las letras. Las palabras están ordenadas de mayor a menor frecuencia.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntay_tok <- lyrics %>%\n  unnest_tokens(word, lyric)\n\ntidy_taylor <- tay_tok %>%\n  anti_join(stop_words) #- descartamos palabras no significativas\n\ntop_words <- tidy_taylor %>%\n  count(word, sort = TRUE) %>%\n  filter(n > 70,\n         word != \"di\",\n         word != \"ooh\",\n         word != \"ey\") %>%\n  mutate(word = factor(word, levels = rev(unique(word))))\n\nword_plot <- ggplot(top_words, aes(word, n, fill = word)) +\n  geom_col(color = \"black\", linewidth = 0.5) +\n  geom_text(aes(label = word), position = position_stack(vjust = 0.8), color = \"white\", size = 5) +\n  scale_fill_brewer(palette = \"Set3\") +\n  theme_minimal() +\n  labs(title = \"Palabras Frecuentes en las Letras de Taylor Swift\",\n       subtitle = \"Top 8 palabras más repetidas\",\n       x = \"\",\n       y = \"Número de veces mencionada\") +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(hjust = 0.5, size = 12, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 10, color = \"gray\"),\n    panel.grid.major.y = element_line(color = \"gray\", size = 0.2, linetype = \"dashed\"),\n    panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\"),\n    axis.text.x = element_text(size = 8, hjust = 1),\n    axis.title.x = element_text(size = 10),\n    axis.text.y = element_blank(),\n    plot.margin = margin(10, 10, 10, 10)) +\n  coord_flip()\n\nprint(word_plot)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-13-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n---\n\n### ¿Qué sentimiento predomina en cada canción?\n\n\nEl siguiente gráfico visualiza el sentimiento asociado con las canciones de Taylor Swift, clasificándolas en positivas y negativas. Cada barra representa una canción, con la altura indicando el grado de sentimiento y el color diferenciando los álbumes. Las barras están ordenadas por el sentimiento, desde el más positivo hasta el más negativo. El gráfico se presenta en un formato de facetas para permitir una comparación rápida entre diversos álbumes de Taylor Swift; en este caso, para que la visualización sea más clara, se muestran solo cuatro álbumes: *Fearless*, *Speack Now*, *Red* y *1989*.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntay_sentiment <- tidy_taylor %>%\n  inner_join(get_sentiments(\"bing\")) %>% \n  count(album, track_title, sentiment) %>%\n  spread(sentiment, n, fill = 0) %>%\n  mutate(sentiment = positive - negative)\n\nalbums_a_incluir <- c(\"Fearless\", \"Speak Now\", \"Red\", \"1989\")\ntay_sentiment_filtrado <- tay_sentiment %>%\n  filter(album %in% albums_a_incluir)\n\ntay_order <- c(\"Fearless\", \"Speak Now\", \"Red\", \"1989\")\ntay_sentiment_filtrado$album <- factor(tay_sentiment_filtrado$album, levels = tay_order)\n\ntay_sentiment_filtrado %>%\n  ggplot(aes(reorder(track_title, sentiment), sentiment, fill = album)) +\n  geom_col(width = 0.8, show.legend = FALSE) +\n  facet_wrap(~album, ncol = 2, scales = \"free\") +\n  scale_fill_manual(values = c(\"lightgoldenrod1\", \"orchid3\", \"red3\", \"skyblue3\")) +\n  labs(x = NULL,\n       y = \"Sentimiento\",\n       title = \"Canciones de Taylor Swift Clasificadas por Sentimientos\",\n       subtitle = \"Positividad o negatividad de cada canción\") +\n  theme_minimal() +\n  theme(plot.title = element_text(size = 11, face = \"bold\"),\n        plot.subtitle = element_text(size = 10, hjust = 0.25, color = \"gray\"),\n        axis.text.y = element_text(size = 6.5, color = \"grey40\", angle = 0),\n        axis.title.y = element_text(hjust = 0.5, size = 7, color = \"grey40\", angle = 0),\n        axis.title.x =  element_text(size = 8, color = \"grey40\"),\n        axis.text.x = element_text(size = 6.5, color = \"grey40\"),\n        strip.text = element_text(size = 9, color = \"grey40\", face = \"bold\"),\n        plot.caption = element_text(size = 7.5, color = \"grey40\"),\n        plot.margin = margin(10, 40, 10, 10),\n        panel.background = element_rect(fill = \"honeydew\", color = \"white\", linetype = \"solid\")) +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-14-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\nCuando una barra se desliza hacia la parte negativa del gráfico, significa que las palabras utilizadas en la letra de esa canción están vinculadas a **sentimientos negativos** como tristeza, melancolía o desafío. En cambio, si la barra se eleva hacia la parte positiva, sugiere que las palabras están impregnadas de **emociones positivas** como alegría, esperanza o amor. Este enfoque visual facilita la comparación entre las canciones y permite una comprensión rápida de la evolución emocional a lo largo de dichos álbumes.\n\nObservamos que ciertas canciones destacan notablemente en este análisis. Por ejemplo, *Tell me why*, *The story of us*, *I knew you were trouble* y *Shake it off* están asociadas con sentimientos más negativos... mientras que *Hey Stephen*, *Enchanted*, *The lucky one* y *This love* destacan en la parte positiva del gráfico, por lo que podemos decir que Taylor ha usado palabras más bonitas a la hora de componer estas canciones.\n\n---\n\n## Análisis de conciertos\n\n### ¿Cuánto se ha recaudado en cada gira?\n\n\nPor último, para hacer también un pequeño ánalisis sobre las giras de conciertos asociadas a cada uno de los álbumes, se presenta el siguiente **gráfico de tarta**. Cada segmento representa una gira específica, con sus colores distintivos, y los tamaños relativos de los segmentos reflejan la recaudación acumulada de cada gira. Acompañado por etiquetas que detallan las cifras exactas, este gráfico proporciona una perspectiva clara sobre las giras más exitosas en términos de ingresos a lo largo de la carrera de Taylor Swift.\n\n::: {.panel-tabset}\n\n## Gráfico de tarta\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nconcerts <- concerts %>%\n  filter(revenue != \"—\") %>%\n  mutate(tour_album = case_when(str_detect(tour, \"Fearless_Tour\") ~ \"Fearless\", \n                                str_detect(tour, \"Reputation_Stadium_Tour\") ~ \"Reputation\",\n                                str_detect(tour, \"Speak_Now_World_Tour\") ~ \"Speak Now\",\n                                str_detect(tour, \"The_1989_World_Tour\") ~ \"1989\",\n                                str_detect(tour, \"The_Red_Tour\") ~ \"Red\")) %>%\n  select('tour_album', 'revenue')\n\n#- limpiamos la columna 'revenue'\nconcerts$revenue <- gsub(\",\", \"\", concerts$revenue)\nconcerts$revenue <- gsub(\"\\\\$\", \"\", concerts$revenue)\n\n#- convertimos la columna 'revenue' a tipo numérico\nconcerts$revenue <- as.numeric(concerts$revenue)\n\n#- agrupamos por 'tour' y sumamos los ingresos\ningresos_totales <- concerts %>%\n  group_by(tour_album) %>%\n  summarise(ingresos_totales = sum(revenue, na.rm = TRUE)) %>%\n  arrange(desc(ingresos_totales))\n\ningresos_totales$tour_album <- reorder(ingresos_totales$tour_album, ingresos_totales$ingresos_totales)\n\ncolores <- c(\"#FFEC8B\", \"#EE7AE9\", \"#FF6A6A\", \"#8EE5EE\", \"#C1CDC4\")\netiquetas <- scales::dollar_format()(ingresos_totales$ingresos_totales)\n\nggplot(ingresos_totales, aes(x = \"\", y = ingresos_totales, fill = tour_album)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\") +\n  labs(title = \"Ingresos Totales por Gira de Conciertos\",\n       subtitle = \"Recaudación en dólares\",\n       fill = NULL) +\n  theme_void() +\n  theme(legend.position = \"bottom\",\n        plot.title = element_text(size = 11, hjust = 0.5, face = \"bold\"),\n        plot.subtitle = element_text(size = 10, hjust = 0.5, color = \"gray\"),\n        plot.margin = margin(10, 10, 10, 10)) +\n  scale_fill_manual(values = colores) +\n  geom_text(aes(label = etiquetas), position = position_stack(vjust = 0.5), color = \"white\", size = 4)\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-15-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n## Tabla\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ncolnames(ingresos_totales) <- c(\"Tour\", \"Ingresos\")\ncolores <- c(\"#C1CDC4\", \"#8EE5EE\", \"#FF6A6A\",\"#EE7AE9\", \"#FFEC8B\")\n\ntabla_concerts <- gt(ingresos_totales) %>%\n  gtExtras::gt_plt_dot(column = \"Ingresos\", category_column = `Tour`,  \n                       max_value = NULL, palette = colores) %>%\n  gtExtras::gt_theme_nytimes() %>%\n  cols_width(`Tour` ~ px(700), 2 ~ px(150)) %>% \n  tab_header(title = \"Giras más exitosas en términos de ingresos\",\n             subtitle = \"Recaudación en dólares\")\n\ntabla_concerts\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"sugimvxyco\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#sugimvxyco table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#sugimvxyco thead, #sugimvxyco tbody, #sugimvxyco tfoot, #sugimvxyco tr, #sugimvxyco td, #sugimvxyco th {\n  border-style: none;\n}\n\n#sugimvxyco p {\n  margin: 0;\n  padding: 0;\n}\n\n#sugimvxyco .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#sugimvxyco .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sugimvxyco .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sugimvxyco .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 1px;\n  border-bottom-color: #334422;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 12px;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sugimvxyco .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 12px;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sugimvxyco .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sugimvxyco .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sugimvxyco .gt_column_spanner {\n  border-bottom-style: none;\n  border-bottom-width: 1px;\n  border-bottom-color: #334422;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sugimvxyco .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#sugimvxyco .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#sugimvxyco .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sugimvxyco .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sugimvxyco .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sugimvxyco .gt_row {\n  padding-top: 7px;\n  padding-bottom: 7px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sugimvxyco .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sugimvxyco .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sugimvxyco .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sugimvxyco .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#sugimvxyco .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sugimvxyco .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sugimvxyco .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sugimvxyco .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sugimvxyco .gt_table_body {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #FFFFFF;\n}\n\n#sugimvxyco .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sugimvxyco .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sugimvxyco .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sugimvxyco .gt_left {\n  text-align: left;\n}\n\n#sugimvxyco .gt_center {\n  text-align: center;\n}\n\n#sugimvxyco .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sugimvxyco .gt_font_normal {\n  font-weight: normal;\n}\n\n#sugimvxyco .gt_font_bold {\n  font-weight: bold;\n}\n\n#sugimvxyco .gt_font_italic {\n  font-style: italic;\n}\n\n#sugimvxyco .gt_super {\n  font-size: 65%;\n}\n\n#sugimvxyco .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#sugimvxyco .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sugimvxyco .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sugimvxyco .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sugimvxyco .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sugimvxyco .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sugimvxyco .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout: fixed;; width: 0px\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <colgroup>\n    <col style=\"width:700px;\"/>\n    <col style=\"width:150px;\"/>\n  </colgroup>\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal\" style=\"font-family: 'Libre Franklin'; font-weight: 800;\">Giras más exitosas en términos de ingresos</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Recaudación en dólares</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #A9A9A9; font-family: 'Source Sans Pro'; text-transform: uppercase;\" scope=\"col\" id=\"Tour\">Tour</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"color: #A9A9A9; font-family: 'Source Sans Pro'; text-transform: uppercase;\" scope=\"col\" id=\"Ingresos\">Ingresos</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Tour\" class=\"gt_row gt_center\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\"><div>\n  <div style=\"display:inline-block;float:left;margin-right:0px;\">\n    Reputation\n    <div style=\"height: 0.7em;width: 0.7em;background-color: #C1CDC4;border-radius: 50%;margin-top:4px;display:inline-block;float:left;margin-right:2px;\"></div>\n    <div style=\"display: inline-block;float:right;line-height:20px;padding: 0px 2.5px;\"></div>\n  </div>\n  <div style=\"position: relative;top: 1.2em;\">\n    <div><div style='flex-grow:1;margin-left:0px;'><div style='background:#C1CDC4;width:100%;height:4px;border-radius: 2px'></div></div></div>\n  </div>\n</div></td>\n<td headers=\"Ingresos\" class=\"gt_row gt_right\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\">597640489</td></tr>\n    <tr><td headers=\"Tour\" class=\"gt_row gt_center\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\"><div>\n  <div style=\"display:inline-block;float:left;margin-right:0px;\">\n    1989\n    <div style=\"height: 0.7em;width: 0.7em;background-color: #8EE5EE;border-radius: 50%;margin-top:4px;display:inline-block;float:left;margin-right:2px;\"></div>\n    <div style=\"display: inline-block;float:right;line-height:20px;padding: 0px 2.5px;\"></div>\n  </div>\n  <div style=\"position: relative;top: 1.2em;\">\n    <div><div style='flex-grow:1;margin-left:0px;'><div style='background:#8EE5EE;width:76.2881811710719%;height:4px;border-radius: 2px'></div></div></div>\n  </div>\n</div></td>\n<td headers=\"Ingresos\" class=\"gt_row gt_right\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\">455929059</td></tr>\n    <tr><td headers=\"Tour\" class=\"gt_row gt_center\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\"><div>\n  <div style=\"display:inline-block;float:left;margin-right:0px;\">\n    Red\n    <div style=\"height: 0.7em;width: 0.7em;background-color: #FF6A6A;border-radius: 50%;margin-top:4px;display:inline-block;float:left;margin-right:2px;\"></div>\n    <div style=\"display: inline-block;float:right;line-height:20px;padding: 0px 2.5px;\"></div>\n  </div>\n  <div style=\"position: relative;top: 1.2em;\">\n    <div><div style='flex-grow:1;margin-left:0px;'><div style='background:#FF6A6A;width:40.5619981346344%;height:4px;border-radius: 2px'></div></div></div>\n  </div>\n</div></td>\n<td headers=\"Ingresos\" class=\"gt_row gt_right\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\">242414924</td></tr>\n    <tr><td headers=\"Tour\" class=\"gt_row gt_center\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\"><div>\n  <div style=\"display:inline-block;float:left;margin-right:0px;\">\n    Speak Now\n    <div style=\"height: 0.7em;width: 0.7em;background-color: #EE7AE9;border-radius: 50%;margin-top:4px;display:inline-block;float:left;margin-right:2px;\"></div>\n    <div style=\"display: inline-block;float:right;line-height:20px;padding: 0px 2.5px;\"></div>\n  </div>\n  <div style=\"position: relative;top: 1.2em;\">\n    <div><div style='flex-grow:1;margin-left:0px;'><div style='background:#EE7AE9;width:34.2001408475522%;height:4px;border-radius: 2px'></div></div></div>\n  </div>\n</div></td>\n<td headers=\"Ingresos\" class=\"gt_row gt_right\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\">204393889</td></tr>\n    <tr><td headers=\"Tour\" class=\"gt_row gt_center\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\"><div>\n  <div style=\"display:inline-block;float:left;margin-right:0px;\">\n    Fearless\n    <div style=\"height: 0.7em;width: 0.7em;background-color: #FFEC8B;border-radius: 50%;margin-top:4px;display:inline-block;float:left;margin-right:2px;\"></div>\n    <div style=\"display: inline-block;float:right;line-height:20px;padding: 0px 2.5px;\"></div>\n  </div>\n  <div style=\"position: relative;top: 1.2em;\">\n    <div><div style='flex-grow:1;margin-left:0px;'><div style='background:#FFEC8B;width:13.3723393028012%;height:4px;border-radius: 2px'></div></div></div>\n  </div>\n</div></td>\n<td headers=\"Ingresos\" class=\"gt_row gt_right\" style=\"font-family: 'Source Sans Pro'; font-weight: 400;\">79918514</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n:::\n\nObservamos un **incremento constante en los ingresos** desde la gira *Fearless* hasta la gira *Reputation*, que destaca como la más exitosa en términos de recaudación. Estos resultados sugieren un impacto positivo continuo en la popularidad y éxito comercial de Taylor Swift, evidenciando un aumento significativo en la demanda de sus conciertos con cada nuevo álbum lanzado.\n\n---\n\n## Conclusión\n\n¡Y así llegamos al final de este recorrido musical por el universo de Taylor Swift!\n\nDesde sus inicios con el álbum \"Taylor Swift\" hasta las recientes producciones de \"Midnights\", hemos sido testigos de la extraordinaria evolución de esta artista a lo largo de los años. Su autenticidad, versatilidad y conexión con su audiencia la han llevado a la cima de la industria musical. Y lo más emocionante es que, con Taylor, siempre hay más por venir.\n\nLo último que sabemos de ella es que está recorriendo el mundo con su **THE ERAS TOUR**, una gira en la que pretende recoger lo mejor de cada álbum de su carrera. Y eso no es todo, puesto que también ha lanzado una película para que quien no haya podido verla en directo, lo haga a través de la gran pantalla. Os adjunto tráiler:\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(\"vembedr\")\nembed_url(\"https://www.youtube.com/watch?v=KudedLV0tP0\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"vembedr\">\n<div>\n<iframe src=\"https://www.youtube.com/embed/KudedLV0tP0\" width=\"533\" height=\"300\" frameborder=\"0\" allowfullscreen=\"\" data-external=\"1\"></iframe>\n</div>\n</div>\n```\n:::\n:::\n\n\n----------------------\n\n<br>\n\nCon esto acabo mi trabajo para BigData!!🎶💖\n\n<br>\n\n----------------------\n\n<br>\n\n### Información sobre la sesión\n\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n<details closed>\n<summary> <span title='Click to Expand'> current session info </span> </summary>\n\n```r\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.1 (2023-06-16 ucrt)\n os       Windows 11 x64 (build 22621)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2024-01-24\n pandoc   3.1.1 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package      * version date (UTC) lib source\n assertthat     0.2.1   2019-03-21 [1] CRAN (R 4.3.1)\n cellranger     1.1.0   2016-07-27 [1] CRAN (R 4.3.1)\n cli            3.6.1   2023-03-23 [1] CRAN (R 4.3.1)\n clipr          0.8.0   2022-02-22 [1] CRAN (R 4.3.1)\n colorspace     2.1-0   2023-01-23 [1] CRAN (R 4.3.1)\n crayon         1.5.2   2022-09-29 [1] CRAN (R 4.3.1)\n curl           5.2.0   2023-12-08 [1] CRAN (R 4.3.2)\n data.table     1.14.8  2023-02-17 [1] CRAN (R 4.3.1)\n desc           1.4.2   2022-09-08 [1] CRAN (R 4.3.1)\n details        0.3.0   2022-03-27 [1] CRAN (R 4.3.2)\n digest         0.6.33  2023-07-07 [1] CRAN (R 4.3.1)\n dplyr        * 1.1.3   2023-09-03 [1] CRAN (R 4.3.1)\n evaluate       0.21    2023-05-05 [1] CRAN (R 4.3.1)\n fansi          1.0.4   2023-01-22 [1] CRAN (R 4.3.1)\n farver         2.1.1   2022-07-06 [1] CRAN (R 4.3.1)\n fastmap        1.1.1   2023-02-24 [1] CRAN (R 4.3.1)\n fontawesome    0.5.2   2023-08-19 [1] CRAN (R 4.3.1)\n forcats      * 1.0.0   2023-01-29 [1] CRAN (R 4.3.1)\n generics       0.1.3   2022-07-05 [1] CRAN (R 4.3.1)\n gganimate    * 1.0.8   2022-09-08 [1] CRAN (R 4.3.2)\n ggplot2      * 3.4.4   2023-10-12 [1] CRAN (R 4.3.2)\n glue           1.7.0   2024-01-09 [1] CRAN (R 4.3.2)\n gridExtra    * 2.3     2017-09-09 [1] CRAN (R 4.3.1)\n gt           * 0.9.0   2023-03-31 [1] CRAN (R 4.3.1)\n gtable         0.3.4   2023-08-21 [1] CRAN (R 4.3.1)\n gtExtras     * 0.5.0   2023-09-15 [1] CRAN (R 4.3.1)\n here           1.0.1   2020-12-13 [1] CRAN (R 4.3.1)\n highr          0.10    2022-12-22 [1] CRAN (R 4.3.1)\n hms            1.1.3   2023-03-21 [1] CRAN (R 4.3.1)\n htmltools      0.5.6   2023-08-10 [1] CRAN (R 4.3.1)\n htmlwidgets    1.6.2   2023-03-17 [1] CRAN (R 4.3.1)\n httr           1.4.7   2023-08-15 [1] CRAN (R 4.3.1)\n janeaustenr    1.0.0   2022-08-26 [1] CRAN (R 4.3.1)\n jsonlite       1.8.7   2023-06-29 [1] CRAN (R 4.3.1)\n kableExtra   * 1.3.4   2021-02-20 [1] CRAN (R 4.3.1)\n knitr        * 1.45    2023-10-30 [1] CRAN (R 4.3.2)\n labeling       0.4.3   2023-08-29 [1] CRAN (R 4.3.1)\n lattice        0.21-8  2023-04-05 [2] CRAN (R 4.3.1)\n lazyeval       0.2.2   2019-03-15 [1] CRAN (R 4.3.1)\n lifecycle      1.0.3   2022-10-07 [1] CRAN (R 4.3.1)\n lubridate    * 1.9.2   2023-02-10 [1] CRAN (R 4.3.1)\n magick         2.8.2   2023-12-20 [1] CRAN (R 4.3.2)\n magrittr       2.0.3   2022-03-30 [1] CRAN (R 4.3.1)\n Matrix         1.6-1.1 2023-09-18 [1] CRAN (R 4.3.1)\n munsell        0.5.0   2018-06-12 [1] CRAN (R 4.3.1)\n paletteer      1.6.0   2024-01-21 [1] CRAN (R 4.3.2)\n pillar         1.9.0   2023-03-22 [1] CRAN (R 4.3.1)\n pkgconfig      2.0.3   2019-09-22 [1] CRAN (R 4.3.1)\n plotly       * 4.10.3  2023-10-21 [1] CRAN (R 4.3.2)\n png            0.1-8   2022-11-29 [1] CRAN (R 4.3.0)\n prettyunits    1.1.1   2020-01-24 [1] CRAN (R 4.3.1)\n progress       1.2.2   2019-05-16 [1] CRAN (R 4.3.1)\n purrr        * 1.0.2   2023-08-10 [1] CRAN (R 4.3.1)\n R.methodsS3    1.8.2   2022-06-13 [1] CRAN (R 4.3.0)\n R.oo           1.25.0  2022-06-12 [1] CRAN (R 4.3.0)\n R.utils        2.12.2  2022-11-11 [1] CRAN (R 4.3.1)\n R6             2.5.1   2021-08-19 [1] CRAN (R 4.3.1)\n RColorBrewer * 1.1-3   2022-04-03 [1] CRAN (R 4.3.0)\n Rcpp           1.0.11  2023-07-06 [1] CRAN (R 4.3.1)\n readr        * 2.1.4   2023-02-10 [1] CRAN (R 4.3.1)\n readxl         1.4.3   2023-07-06 [1] CRAN (R 4.3.1)\n rematch2       2.1.2   2020-05-01 [1] CRAN (R 4.3.1)\n rio          * 1.0.1   2023-09-19 [1] CRAN (R 4.3.1)\n rlang          1.1.1   2023-04-28 [1] CRAN (R 4.3.1)\n rmarkdown      2.24    2023-08-14 [1] CRAN (R 4.3.1)\n rprojroot      2.0.3   2022-04-02 [1] CRAN (R 4.3.1)\n rstudioapi     0.15.0  2023-07-07 [1] CRAN (R 4.3.1)\n rvest          1.0.3   2022-08-19 [1] CRAN (R 4.3.1)\n sass           0.4.7   2023-07-15 [1] CRAN (R 4.3.1)\n scales       * 1.2.1   2022-08-20 [1] CRAN (R 4.3.1)\n sessioninfo    1.2.2   2021-12-06 [1] CRAN (R 4.3.2)\n SnowballC      0.7.1   2023-04-25 [1] CRAN (R 4.3.0)\n stringi        1.7.12  2023-01-11 [1] CRAN (R 4.3.0)\n stringr      * 1.5.0   2022-12-02 [1] CRAN (R 4.3.1)\n svglite        2.1.1   2023-01-10 [1] CRAN (R 4.3.1)\n systemfonts    1.0.4   2022-02-11 [1] CRAN (R 4.3.1)\n tibble       * 3.2.1   2023-03-20 [1] CRAN (R 4.3.1)\n tidyr        * 1.3.0   2023-01-24 [1] CRAN (R 4.3.1)\n tidyselect     1.2.0   2022-10-10 [1] CRAN (R 4.3.1)\n tidytext     * 0.4.1   2023-01-07 [1] CRAN (R 4.3.1)\n tidyverse    * 2.0.0   2023-02-22 [1] CRAN (R 4.3.2)\n timechange     0.2.0   2023-01-11 [1] CRAN (R 4.3.1)\n tokenizers     0.3.0   2022-12-22 [1] CRAN (R 4.3.1)\n tweenr         2.0.2   2022-09-06 [1] CRAN (R 4.3.1)\n tzdb           0.4.0   2023-05-12 [1] CRAN (R 4.3.1)\n utf8           1.2.3   2023-01-31 [1] CRAN (R 4.3.1)\n vctrs          0.6.3   2023-06-14 [1] CRAN (R 4.3.1)\n vembedr      * 0.1.5   2021-12-11 [1] CRAN (R 4.3.2)\n viridisLite    0.4.2   2023-05-02 [1] CRAN (R 4.3.1)\n webshot        0.5.5   2023-06-26 [1] CRAN (R 4.3.1)\n withr          2.5.0   2022-03-03 [1] CRAN (R 4.3.1)\n xfun           0.40    2023-08-09 [1] CRAN (R 4.3.1)\n xml2           1.3.5   2023-07-06 [1] CRAN (R 4.3.1)\n yaml           2.3.7   2023-01-23 [1] CRAN (R 4.3.0)\n\n [1] C:/Users/anaro/AppData/Local/R/win-library/4.3\n [2] C:/Program Files/R/R-4.3.1/library\n\n──────────────────────────────────────────────────────────────────────────────\n\n```\n\n</details>\n<br>\n:::\n:::\n",
    "supporting": [
      "my_trabajo_BigData_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n<link href=\"site_libs/vembedr-0.1.5/css/vembedr.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}